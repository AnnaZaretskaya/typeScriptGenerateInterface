var ex1 = {
    "data": {
        "bonuses": [{
            "remoteBonusId": "4968314",
            "templateCode": "43202",
            "amount": {"currencyCode": "GBP", "amount": "0"},
            "ringFencedAmount": {"currencyCode": "GBP", "amount": "0"},
            "status": 2,
            "completionType": 2,
            "declinable": false,
            "redemptionDetails": {
                "redeemThreshold": "0",
                "depositForRedemption": false,
                "nonRedeemableWithWagering": false,
                "keepWinningsPending": true
            },
            "actions": [{
                "status": 1,
                "time": "2018-03-22 09:14:11.000",
                "amountType": 1
            }, {
                "status": 2,
                "time": "2018-03-22 09:14:11.000",
                "amount": {
                    "currencyCode": "GBP",
                    "amount": "0"
                },
                "amountType": 1
            }],
            "wagerType": "Pre-wager",
            "templateName": "CROSSLIVE - SEND",
            "templateDefaultName": "CROSSLIVE - SEND",
            "amountOnBalance": {
                "currencyCode": "GBP",
                "amount": "0"
            },
            "pendingWinnings": {
                "currencyCode": "GBP",
                "amount": "0"
            },
            "bonusInstanceCode": "4968315",
            "wageringMethod": "None",
            "declineOnWithdraw": false,
            "playType": "freespins",
            "displayBonusFundsSeperately": false,
            "bonusCostProduct": "casino",
            "dontDeclineOnFundTransferWithdraw": false,
            "freeSpinsCount": 10,
            "freeSpinsCountRemaining": 10,
            "useBonusMoneyFirst": false,
            "acceptanceDate": "2018-03-22T09:14:11.000Z",
            "name": "CROSSLIVE - SEND",
            "wagerProgress": "",
            "balanceInfo": "10",
            "goldenChipsTotal": "",
            "goldenChipsRemaining": "",
            "tcWebContent": ""
        }, {
            "remoteBonusId": "4949631",
            "templateCode": "43489",
            "amount": {"currencyCode": "GBP", "amount": "0"},
            "ringFencedAmount": {"currencyCode": "GBP", "amount": "0"},
            "initialWagering": {"currencyCode": "GBP", "amount": "20"},
            "wagering": {"currencyCode": "GBP", "amount": "20"},
            "status": 2,
            "completionType": 2,
            "declinable": false,
            "redemptionDetails": {
                "redeemThreshold": "0",
                "depositForRedemption": false,
                "nonRedeemableWithWagering": false,
                "keepWinningsPending": false
            },
            "actions": [{
                "status": 1,
                "time": "2017-06-29 06:54:33.000",
                "amount": {"currencyCode": "GBP", "amount": "0"},
                "amountType": 1
            }, {
                "status": 2,
                "time": "2017-06-29 06:54:33.000",
                "amount": {"currencyCode": "GBP", "amount": "0"},
                "amountType": 1
            }],
            "wagerType": "After-wager",
            "templateName": "C# Test B&G on Full Moon Fortunes DN",
            "templateDefaultName": "C# Test B&G on Full Moon Fortunes DN",
            "amountOnBalance": {"currencyCode": "GBP", "amount": "0"},
            "pendingWinnings": {"currencyCode": "GBP", "amount": "0"},
            "bonusInstanceCode": "4949632",
            "wageringMethod": "Fixed",
            "declineOnWithdraw": false,
            "playType": "after-wager",
            "displayBonusFundsSeperately": false,
            "bonusCostProduct": "casino",
            "dontDeclineOnFundTransferWithdraw": false,
            "useBonusMoneyFirst": false,
            "acceptanceDate": "2017-06-29T06:54:33.000Z",
            "name": "C# Test B&G on Full Moon Fortunes DN",
            "wagerProgress": "0%",
            "balanceInfo": "£0.00",
            "goldenChipsTotal": "",
            "goldenChipsRemaining": "",
            "tcWebContent": ""
        }, {
            "remoteBonusId": "4949647",
            "templateCode": "43489",
            "amount": {"currencyCode": "GBP", "amount": "0"},
            "ringFencedAmount": {"currencyCode": "GBP", "amount": "0"},
            "initialWagering": {"currencyCode": "GBP", "amount": "20"},
            "wagering": {"currencyCode": "GBP", "amount": "20"},
            "status": 2,
            "completionType": 2,
            "declinable": false,
            "redemptionDetails": {
                "redeemThreshold": "0",
                "depositForRedemption": false,
                "nonRedeemableWithWagering": false,
                "keepWinningsPending": false
            },
            "actions": [{
                "status": 1,
                "time": "2017-06-29 07:15:17.000",
                "amount": {"currencyCode": "GBP", "amount": "0"},
                "amountType": 1
            }, {
                "status": 2,
                "time": "2017-06-29 07:15:17.000",
                "amount": {"currencyCode": "GBP", "amount": "0"},
                "amountType": 1
            }],
            "wagerType": "After-wager",
            "templateName": "C# Test B&G on Full Moon Fortunes DN",
            "templateDefaultName": "C# Test B&G on Full Moon Fortunes DN",
            "amountOnBalance": {"currencyCode": "GBP", "amount": "0"},
            "pendingWinnings": {"currencyCode": "GBP", "amount": "0"},
            "bonusInstanceCode": "4949648",
            "wageringMethod": "Fixed",
            "declineOnWithdraw": false,
            "playType": "after-wager",
            "displayBonusFundsSeperately": false,
            "bonusCostProduct": "casino",
            "dontDeclineOnFundTransferWithdraw": false,
            "useBonusMoneyFirst": false,
            "acceptanceDate": "2017-06-29T07:15:17.000Z",
            "name": "C# Test B&G on Full Moon Fortunes DN",
            "wagerProgress": "0%",
            "balanceInfo": "£0.00",
            "goldenChipsTotal": "",
            "goldenChipsRemaining": "",
            "tcWebContent": ""
        }],
        "bonusTemplates": [{
            "code": "43489",
            "name": "C# Test B&G on Full Moon Fortunes DN",
            "triggers": ["Campaign"],
            "afterWager": true,
            "declinable": false,
            "declineOnWithdraw": false,
            "dontDeclineOnFundTransferWithdraw": false,
            "startDate": "2017-06-08 00:00:00.000",
            "endDate": "2017-06-30 00:00:00.000",
            "wageringMethod": "Bonus",
            "iteration": "None",
            "type": "Automatic",
            "bonusCostProduct": "casino",
            "description": "C# Test B&G on Full Moon Fortunes DN",
            "displayBonusFundsSeperately": false,
            "useBonusMoneyFirst": false,
            "bonusConditions": [{
                "code": "77041",
                "description": "default condition",
                "amounts": [{
                    "currencyCode": "GBP",
                    "fromAmount": "0",
                    "toAmount": "999999999999.99",
                    "bonusAmount": "0",
                    "bonusWagering": "0",
                    "depositWagering": "0",
                    "wageringMethod": "Fixed",
                    "redemptionDetails": {
                        "redeemThreshold": "0",
                        "depositForRedemption": false,
                        "nonRedeemableWithWagering": false,
                        "keepWinningsPending": false
                    },
                    "fixedWageringAmount": "20",
                    "nextBonusCode": "null"
                }],
                "totals": []
            }],
            "closed": false,
            "closing": false,
            "coupon": false,
            "deactivated": false,
            "overrideBonusProduct": true,
            "priority": 1,
            "redeemAwBonusUntimely": false,
            "frozen": false,
            "playType": "after-wager"
        }, {
            "code": "43202",
            "name": "CROSSLIVE - SEND",
            "triggers": ["CustomEvent"],
            "afterWager": false,
            "declinable": false,
            "declineOnWithdraw": false,
            "dontDeclineOnFundTransferWithdraw": false,
            "startDate": "2017-04-29 00:00:00.000",
            "endDate": "2018-05-06 00:00:00.000",
            "wageringMethod": "Bonus",
            "iteration": "None",
            "type": "Automatic",
            "bonusCostProduct": "casino",
            "displayBonusFundsSeperately": false,
            "useBonusMoneyFirst": false,
            "bonusConditions": [{
                "code": "71701",
                "description": "default condition",
                "amounts": [{
                    "currencyCode": "EUR",
                    "fromAmount": "0",
                    "toAmount": "999999999999.99",
                    "wageringMethod": "None",
                    "redemptionDetails": {
                        "redeemThreshold": "0",
                        "depositForRedemption": false,
                        "nonRedeemableWithWagering": false,
                        "keepWinningsPending": true
                    },
                    "nextBonusCode": "null"
                }, {
                    "currencyCode": "GBP",
                    "fromAmount": "0",
                    "toAmount": "999999999999.99",
                    "wageringMethod": "None",
                    "redemptionDetails": {
                        "redeemThreshold": "0",
                        "depositForRedemption": false,
                        "nonRedeemableWithWagering": false,
                        "keepWinningsPending": true
                    },
                    "nextBonusCode": "null"
                }],
                "totals": [],
                "filters": [{"name": "customeventname", "value": "CROSSLIVE", "operator": "IN"}]
            }],
            "closed": false,
            "closing": false,
            "coupon": false,
            "deactivated": false,
            "overrideBonusProduct": true,
            "priority": 1,
            "redeemAwBonusUntimely": false,
            "frozen": false,
            "playType": "freespins"
        }]
    }, "ID": 31086, "queueTime": 0, "totalBeTime": 357, "description": "Get bonuses"
};
var ex2 = {
    "data": {
        "bonuses": [{
            "remoteBonusId": "4968314",
            "actions": [{"status": 1,            "amountType": 1},
                {"status": 2,"amount": 4,"amountType": 1}]},
            {"remoteBonusId": "4949631",
                "actions": [{"status": 1,"amount": 4,"amountType": 1},
                    {"status": 2,"amount": 4,"amountType": 1}]},
            {"remoteBonusId": "4949647",
                "actions": [{"status": 1,"amount": 4,"amountType": 1},
                    {"status": 2,"amount": 5,"amountType": 1}]}
        ]
    },
    "ID": 31086
};
var ex3 = {

    "bonuses": [{"remoteBonusId": "4968314",
        "actions": [{"status": 1,               "amountType": 1},
            {"status": 2, "amount": 4, "amountType": 1}]},
        {"remoteBonusId": "4949631",
            "actions": [{"status": 1, "amount": 4, "amountType": 1},
                {"status": 2, "amount": 4, "amountType": 1}]},
        {"remoteBonusId": "4949647",
            "actions": [{"status": 1, "amount": 4, "amountType": 1},
                {"status": 2, "amount": 5, "amountType": 1}]}
    ]
};
var ex4 = {
    "responses":[31002,31009],
    "clientVersion":"10H",
    "realMode":1,
    "languageCode":"en",
    "casinoName":"ladbrokeslcmstg",
    "ID":33036,
    "clientPlatform":"web",
    "clientType":"casino",
    "description":"Login with existing Session token",
    "sessionToken":"B-GVjVYAQKLUpo9JAUoA8DAAQCAAMKAo",
    "userName":"userDO"
};
var ex5 = {
    "data": {
        "bonuses": [{
            "remoteBonusId": "4968314",
            "bonusInstanceCode": "4968315",
            "templateCode": "43202",
            "templateName": "CROSSLIVE - SEND",
            "amount": {"amount": "0", "currencyCode": "GBP"},
            "amountOnBalance": {"amount": "0", "currencyCode": "GBP"},
            "status": "accepted",
            "playType": "freespins",
            "declineOnWithdraw": false,
            "templateLastModifyTimestamp": "2017-07-11 13:05:14.980",
            "issueDate": "2018-03-22 09:14:11.000",
            "acceptDate": "2018-03-22 09:14:11.000",
            "redeemedAmount": {"amount": "0", "currencyCode": "GBP"},
            "wageringMethod": "None",
            "freeSpinsCount": 10,
            "freeSpinsCountRemaining": 10,
            "nonRedeemableWithWagering": false,
            "completionType": 1,
            "pendingWinnings": {"amount": "0", "currencyCode": "GBP"},
            "triggers": ["CustomEvent"],
            "templateDefaultName": "CROSSLIVE - SEND"
        }], "paging": {"totalCount": 1}
    }, "ID": 31864, "queueTime": 0, "totalBeTime": 202, "description": "Search Player Bonuses"
};
var ex6 = {
    "ID": "iapiRequestTemporaryToken",
    "response": {
        "flow": {"__attributes": {"id": "49837159031052789:3"}},
        "messageId": "11126438192",
        "errorCode": 0,
        "sessionToken": {
            "sessionToken": "pvCbCaC2srIkFq9JkQrAsACQsDCQYPDY",
            "issuerSystemId": "381",
            "creationTime": {"timestamp": "2018-08-23T06:16:14.000+00:00"},
            "expirationTime": {"timestamp": "2018-08-23T06:21:14.000+00:00"},
            "maxIdlePeriod": 0
        },
        "realMode": 1,
        "username": "userDO"
    },
    "callbackName": "iapiCALLOUT_TEMPORARYTOKEN",
    "description": "request temporary token"
};
var ex7 = {
    "data": {
        "bonuses": [{
            "remoteBonusId": "4968314",
            "templateCode": "43202",
            "amount": {"currencyCode": "GBP", "amount": "0"},
            "ringFencedAmount": {"currencyCode": "GBP", "amount": "0"},
            "status": 2,
            "completionType": 2,
            "declinable": false,
            "redemptionDetails": {
                "redeemThreshold": "0",
                "depositForRedemption": false,
                "nonRedeemableWithWagering": false,
                "keepWinningsPending": true
            },
            "actions": [{
                "status": 1,
                "time": "2018-03-22 09:14:11.000",
                "amountType": 1
            }, {
                "status": 2,
                "time": "2018-03-22 09:14:11.000",
                "amount": {
                    "currencyCode": "GBP",
                    "amount": "0"
                },
                "amountType": 1
            }],
            "wagerType": "Pre-wager",
            "templateName": "CROSSLIVE - SEND",
            "templateDefaultName": "CROSSLIVE - SEND",
            "amountOnBalance": {"currencyCode": "GBP", "amount": "0"},
            "pendingWinnings": {"currencyCode": "GBP", "amount": "0"},
            "bonusInstanceCode": "4968315",
            "wageringMethod": "None",
            "declineOnWithdraw": false,
            "playType": "freespins",
            "displayBonusFundsSeperately": false,
            "bonusCostProduct": "casino",
            "dontDeclineOnFundTransferWithdraw": false,
            "freeSpinsCount": 10,
            "freeSpinsCountRemaining": 10,
            "useBonusMoneyFirst": false,
            "acceptanceDate": "2018-03-22T09:14:11.000Z",
            "name": "CROSSLIVE - SEND",
            "wagerProgress": "",
            "balanceInfo": "10",
            "goldenChipsTotal": "",
            "goldenChipsRemaining": "",
            "tcWebContent": ""
        }, {
            "remoteBonusId": "4949631",
            "templateCode": "43489",
            "amount": {"currencyCode": "GBP", "amount": "0"},
            "ringFencedAmount": {"currencyCode": "GBP", "amount": "0"},
            "initialWagering": {"currencyCode": "GBP", "amount": "20"},
            "wagering": {"currencyCode": "GBP", "amount": "20"},
            "status": 2,
            "completionType": 2,
            "declinable": false,
            "redemptionDetails": {
                "redeemThreshold": "0",
                "depositForRedemption": false,
                "nonRedeemableWithWagering": false,
                "keepWinningsPending": false
            },
            "actions": [{
                "status": 1,
                "time": "2017-06-29 06:54:33.000",
                "amount": {"currencyCode": "GBP", "amount": "0"},
                "amountType": 1
            }, {
                "status": 2,
                "time": "2017-06-29 06:54:33.000",
                "amount": {"currencyCode": "GBP", "amount": "0"},
                "amountType": 1
            }],
            "wagerType": "After-wager",
            "templateName": "C# Test B&G on Full Moon Fortunes DN",
            "templateDefaultName": "C# Test B&G on Full Moon Fortunes DN",
            "amountOnBalance": {"currencyCode": "GBP", "amount": "0"},
            "pendingWinnings": {"currencyCode": "GBP", "amount": "0"},
            "bonusInstanceCode": "4949632",
            "wageringMethod": "Fixed",
            "declineOnWithdraw": false,
            "playType": "after-wager",
            "displayBonusFundsSeperately": false,
            "bonusCostProduct": "casino",
            "dontDeclineOnFundTransferWithdraw": false,
            "useBonusMoneyFirst": false,
            "acceptanceDate": "2017-06-29T06:54:33.000Z",
            "name": "C# Test B&G on Full Moon Fortunes DN",
            "wagerProgress": "0%",
            "balanceInfo": "£0.00",
            "goldenChipsTotal": "",
            "goldenChipsRemaining": "",
            "tcWebContent": ""
        }, {
            "remoteBonusId": "4949647",
            "templateCode": "43489",
            "amount": {"currencyCode": "GBP", "amount": "0"},
            "ringFencedAmount": {"currencyCode": "GBP", "amount": "0"},
            "initialWagering": {"currencyCode": "GBP", "amount": "20"},
            "wagering": {"currencyCode": "GBP", "amount": "20"},
            "status": 2,
            "completionType": 2,
            "declinable": false,
            "redemptionDetails": {
                "redeemThreshold": "0",
                "depositForRedemption": false,
                "nonRedeemableWithWagering": false,
                "keepWinningsPending": false
            },
            "actions": [{
                "status": 1,
                "time": "2017-06-29 07:15:17.000",
                "amount": {"currencyCode": "GBP", "amount": "0"},
                "amountType": 1
            }, {
                "status": 2,
                "time": "2017-06-29 07:15:17.000",
                "amount": {"currencyCode": "GBP", "amount": "0"},
                "amountType": 1
            }],
            "wagerType": "After-wager",
            "templateName": "C# Test B&G on Full Moon Fortunes DN",
            "templateDefaultName": "C# Test B&G on Full Moon Fortunes DN",
            "amountOnBalance": {"currencyCode": "GBP", "amount": "0"},
            "pendingWinnings": {"currencyCode": "GBP", "amount": "0"},
            "bonusInstanceCode": "4949648",
            "wageringMethod": "Fixed",
            "declineOnWithdraw": false,
            "playType": "after-wager",
            "displayBonusFundsSeperately": false,
            "bonusCostProduct": "casino",
            "dontDeclineOnFundTransferWithdraw": false,
            "useBonusMoneyFirst": false,
            "acceptanceDate": "2017-06-29T07:15:17.000Z",
            "name": "C# Test B&G on Full Moon Fortunes DN",
            "wagerProgress": "0%",
            "balanceInfo": "£0.00",
            "goldenChipsTotal": "",
            "goldenChipsRemaining": "",
            "tcWebContent": ""
        }],
        "bonusTemplates": [{
            "code": "43489",
            "name": "C# Test B&G on Full Moon Fortunes DN",
            "triggers": ["Campaign"],
            "afterWager": true,
            "declinable": false,
            "declineOnWithdraw": false,
            "dontDeclineOnFundTransferWithdraw": false,
            "startDate": "2017-06-08 00:00:00.000",
            "endDate": "2017-06-30 00:00:00.000",
            "wageringMethod": "Bonus",
            "iteration": "None",
            "type": "Automatic",
            "bonusCostProduct": "casino",
            "description": "C# Test B&G on Full Moon Fortunes DN",
            "displayBonusFundsSeperately": false,
            "useBonusMoneyFirst": false,
            "bonusConditions": [{
                "code": "77041",
                "description": "default condition",
                "amounts": [{
                    "currencyCode": "GBP",
                    "fromAmount": "0",
                    "toAmount": "999999999999.99",
                    "bonusAmount": "0",
                    "bonusWagering": "0",
                    "depositWagering": "0",
                    "wageringMethod": "Fixed",
                    "redemptionDetails": {
                        "redeemThreshold": "0",
                        "depositForRedemption": false,
                        "nonRedeemableWithWagering": false,
                        "keepWinningsPending": false
                    },
                    "fixedWageringAmount": "20",
                    "nextBonusCode": "null"
                }],
                "totals": []
            }],
            "closed": false,
            "closing": false,
            "coupon": false,
            "deactivated": false,
            "overrideBonusProduct": true,
            "priority": 1,
            "redeemAwBonusUntimely": false,
            "frozen": false,
            "playType": "after-wager"
        }, {
            "code": "43202",
            "name": "CROSSLIVE - SEND",
            "triggers": ["CustomEvent"],
            "afterWager": false,
            "declinable": false,
            "declineOnWithdraw": false,
            "dontDeclineOnFundTransferWithdraw": false,
            "startDate": "2017-04-29 00:00:00.000",
            "endDate": "2018-05-06 00:00:00.000",
            "wageringMethod": "Bonus",
            "iteration": "None",
            "type": "Automatic",
            "bonusCostProduct": "casino",
            "displayBonusFundsSeperately": false,
            "useBonusMoneyFirst": false,
            "bonusConditions": [{
                "code": "71701",
                "description": "default condition",
                "amounts": [{
                    "currencyCode": "EUR",
                    "fromAmount": "0",
                    "toAmount": "999999999999.99",
                    "wageringMethod": "None",
                    "redemptionDetails": {
                        "redeemThreshold": "0",
                        "depositForRedemption": false,
                        "nonRedeemableWithWagering": false,
                        "keepWinningsPending": true
                    },
                    "nextBonusCode": "null"
                }, {
                    "currencyCode": "GBP",
                    "fromAmount": "0",
                    "toAmount": "999999999999.99",
                    "wageringMethod": "None",
                    "redemptionDetails": {
                        "redeemThreshold": "0",
                        "depositForRedemption": false,
                        "nonRedeemableWithWagering": false,
                        "keepWinningsPending": true
                    },
                    "nextBonusCode": "null"
                }],
                "totals": [],
                "filters": [{"name": "customeventname", "value": "CROSSLIVE", "operator": "IN"}]
            }],
            "closed": false,
            "closing": false,
            "coupon": false,
            "deactivated": false,
            "overrideBonusProduct": true,
            "priority": 1,
            "redeemAwBonusUntimely": false,
            "frozen": false,
            "playType": "freespins"
        }]
    }, "ID": 31086, "queueTime": 0, "totalBeTime": 374, "description": "Get bonuses"
};
var ex8 = {
    "data": {
        "responseTimestamp": "2018-08-23 06:16:01.897",
        "balances": [{
            "balance": {"currencyCode": "GBP", "amount": "0"},
            "balanceType": "ringfenced_real_balance"
        }, {
            "balance": {"currencyCode": "GBP", "amount": "0"},
            "balanceType": "bonus_pending_winnings"
        }, {
            "balance": {"currencyCode": "GBP", "amount": "0"},
            "balanceType": "sportsbook_prewager_bonus_balance"
        }, {
            "balance": {"currencyCode": "GBP", "amount": "142"},
            "balanceType": "casino_gaming_balance"
        }, {
            "balance": {"currencyCode": "XXX", "amount": "10"},
            "balanceType": "free_spin_balance"
        }, {
            "balance": {"currencyCode": "GBP", "amount": "0"},
            "balanceType": "casino_table_real_balance"
        }, {
            "balance": {"currencyCode": "GBP", "amount": "50"},
            "balanceType": "pending_withdrawals"
        }, {
            "balance": {"currencyCode": "GBP", "amount": "142"},
            "balanceType": "withdrawable_balance"
        }, {
            "balance": {"currencyCode": "GBP", "amount": "142"},
            "balanceType": "sportsbook_gaming_balance"
        }, {
            "balance": {"currencyCode": "GBP", "amount": "0"},
            "balanceType": "broken_games_real_balance"
        }, {
            "balance": {"currencyCode": "GBP", "amount": "0"},
            "balanceType": "bonus_balance"
        }, {
            "balance": {"currencyCode": "GBP", "amount": "142"},
            "balanceType": "real_gaming_balance"
        }, {
            "balance": {"currencyCode": "GBP", "amount": "0"},
            "balanceType": "real_winnings_balance"
        }, {
            "balance": {"currencyCode": "GBP", "amount": "0"},
            "balanceType": "broken_games_bonus_balance"
        }, {"balance": {"currencyCode": "GBP", "amount": "0"}, "balanceType": "total_bonus_balance"}]
    }, "ID": 31021, "queueTime": 0, "totalBeTime": 480, "description": "Get Dynamic Balance"
};
var ex9 = {
    "data":
        {
            "responseTimestamp": "2018-08-21 12:46:32.619",
            "balances": [{
                "balance": {"currencyCode": "GBP", "amount": "0"},
                "balanceType": "bonus_pending_winnings"
            }, {
                "balance": {"currencyCode": "GBP", "amount": "0"},
                "balanceType": "broken_games_real_balance"
            }, {
                "balance": {"currencyCode": "GBP", "amount": "225"},
                "balanceType": "casino_gaming_balance"
            }, {
                "balance": {"currencyCode": "GBP", "amount": "50"},
                "balanceType": "pending_withdrawals"
            }, {
                "balance": {"currencyCode": "GBP", "amount": "225"},
                "balanceType": "sportsbook_gaming_balance"
            }, {
                "balance": {"currencyCode": "GBP", "amount": "0"},
                "balanceType": "casino_table_real_balance"
            }, {
                "balance": {"currencyCode": "GBP", "amount": "225"},
                "balanceType": "withdrawable_balance"
            }, {
                "balance": {"currencyCode": "GBP", "amount": "0"},
                "balanceType": "real_winnings_balance"
            }, {
                "balance": {"currencyCode": "XXX", "amount": "10"},
                "balanceType": "free_spin_balance"
            }, {
                "balance": {"currencyCode": "GBP", "amount": "225"},
                "balanceType": "real_gaming_balance"
            }, {
                "balance": {"currencyCode": "GBP", "amount": "0"},
                "balanceType": "total_bonus_balance"
            }, {
                "balance": {"currencyCode": "GBP", "amount": "0"},
                "balanceType": "broken_games_bonus_balance"
            }, {
                "balance": {"currencyCode": "GBP", "amount": "0"},
                "balanceType": "bonus_balance"
            }, {
                "balance": {"currencyCode": "GBP", "amount": "0"},
                "balanceType": "sportsbook_prewager_bonus_balance"
            }, {"balance": {"currencyCode": "GBP", "amount": "0"}, "balanceType": "ringfenced_real_balance"}]
        }, "ID": 31021, "queueTime": 0, "totalBeTime": 557, "description": "Get Dynamic Balance"
};
var ex10 = {
    "data": {
        "bonuses": [{
            "remoteBonusId": "4968314",
            "bonusInstanceCode": "4968315",
            "templateCode": "43202",
            "templateName": "CROSSLIVE - SEND",
            "amount": {"amount": "0", "currencyCode": "GBP"},
            "amountOnBalance": {"amount": "0", "currencyCode": "GBP"},
            "status": "accepted",
            "playType": "freespins",
            "declineOnWithdraw": false,
            "templateLastModifyTimestamp": "2017-07-11 13:05:14.980",
            "issueDate": "2018-03-22 09:14:11.000",
            "acceptDate": "2018-03-22 09:14:11.000",
            "redeemedAmount": {"amount": "0", "currencyCode": "GBP"},
            "wageringMethod": "None",
            "freeSpinsCount": 10,
            "freeSpinsCountRemaining": 10,
            "nonRedeemableWithWagering": false,
            "completionType": 1,
            "pendingWinnings": {"amount": "0", "currencyCode": "GBP"},
            "triggers": ["CustomEvent"],
            "templateDefaultName": "CROSSLIVE - SEND"
        }], "paging": {"totalCount": 1}
    }, "ID": 31864, "queueTime": 0, "totalBeTime": 209, "description": "Search Player Bonuses"
};
var ex11 = {
    p16: [{k1: 1, k2: 'str'}, {k1: 1, k2: 'str'}, {k1: 1, k2: 'str'}],
    p17: [{k1: 1, k2: 'str'}, {k1: 1, k2: 'str'}, {k1: 1, k2: 'str'}],
    p18: [{k1: 1, k2: 'str'}, {k1: 1, k2: 'str'}, {k1: 1, k2: 'str'}]
};
var ex12 = {
    p16: [],
    p17: {},
    p18: [[], [{}, 2, 3], 3, {}],
};
var ex13 = {
    p16: ['yt', null, 67],
    p17: ['ll', [1,2,3], 3, true, undefined],
    p18: [true, [1, 2, 3], 3],
    p19: [[1, 2, 3], 3, 'string'],
    p110: [[1, 2, 3], [true, 'string', 78], 'string'],
};
var ex14 = {
    p11: 123,
    p12: null,
    p13: false,
    p14: 'testObj',
    p15: {
        p21: {
            p31: 2,
            p32: 'g'
        },
        p22: {
            p31: 2,
            p32: 'g'
        }
    }
};
var ex15 = {
    p111: [{
        p21:1,
        p22: true,
        p23: {
            p31: 1,
            p32: false,
            p33: 'str'
        }
    }, {
        p21:1,
        p22: {
            p31: 2,
            p33: true,
            p34: 'strng'
        }
    }, {
        p21:1,
        p23: true,
        p24: {
            p31: 3,
            p32: 'string'
        }
    }]
};
var ex16 = {
    p112: [{
        p21:1,
        p22: true,
        p23: {
            p31: 1,
            p32: false,
            p33: 'str'
        }
    }, true, {
        p21:1,
        p23: true,
        p24: {
            p31: 3,
            p32: 'string'
        }
    }, [1, 2, 3]]
};

/*
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>generateInterface</title>
</head>
<body>
<p>
    Задачка:
    создать генератор typscript-интерфейсов<br>
создать ф-ю generateInterface, которая на вход принимает объект (или массив)
ф-я фолжна вернуть строку в которой описан интерфейс объекта
</p>
<p>
Например:
</p>
<p>
<pre>
var obj = {
	id: 123,
	name: 'testObj',
	data: {
		prop1: 'abc'
		prop2: true
	}
};
</pre>
<p>
generateInterface(obj);
</p>
<p>
Должна вернуть строку (с переносами строк) в виде:
</p>
<p>
<pre>
declare interface IObj {
	id: number;
	name: string;
	data: {
		prop1: string;
		prop2: boolean;
	}
};

</pre>
</p>
<p>
Обрати внимание что:
1) IObj - высосано с пальца.
2) объект obj содержит свойство data, которое тоже объект.
Значит тут должна быть применена рекурсия(!!!!), что бы ф-я могла обрабатывать объекты любой степени вложености.
</p>
<p>
Пример 2:
<pre>
var obj = {
	id: 123,
	name: 'testObj',
	data: [{
		prop1: 'abc',
		prop2: true
	}, {
		prop1: 'def',
		prop3: 300
	}],
	otherData: [1, 2, 3]
};
</pre>
</p>

<p>
Если какое либо свойство содержит массив, то предполагаем что внутри массива "однотипные" сущности.
В примере выше есть 2 массива, первый с объектами второй с числами.
Первый массив сложнее, так как у объектов не совпадают свойства.
Те свойста, которые встречаются не у всех объектов - считаем "необязательными" (это prop2 и prop3) и помечаем их знаком "?"
</p>
<p>
Должно выглядеть вот так:
</p>
<p>
<pre>
declare interface IObj {
    id: number;
    name: string;
    data: {
        prop1: string;
        prop2?: boolean;
        prop3?: number;
    }[],
    otherData: number[]
};
</pre>
</p>
<script src="src.js"></script>
<script>
function generateInterface(object) {
	function stringify(object, tab) {
        let iteration = -1;
        let tabs = '\t'.repeat(tab + 1);
        let resultStringify = '';
        let resStringifyArray = '';
        let currentType = [];
        let configIteration = -1;
        let allKeys = [];
        let config = [];
        let requiredKeys = [];

        Object.keys(object).forEach((key) => {
            let property = object[key];
            let tempType;
            switch (typeof property) {
                case 'undefined':
                    tempType = 'any';
                    break;
                case 'object':
                    if (property instanceof Array) {
                        resStringifyArray = '';
                        tempType = stringifyArray(property, tab, iteration + 1);
                    } else  if (property instanceof Date) {
                        tempType = 'Date';
                    } else  if (property instanceof Object) {
                        tempType = stringify(property, tab + 1);
                    } else  if (property === null) {
                        tempType = 'any';
                    }
                    break;
                default:
                    tempType = typeof property;
            }
            resultStringify += `${tabs}${key}: ${tempType};\n`;
        });

        function stringifyArray(array, tab, iteration, nextConfigIteration) {
            let resObjectsInArrays;
            currentType[iteration] = [];

            if (array.length === 0) {
                return 'any[]';
            }

            if (nextConfigIteration) {configIteration++;}

            array.forEach((arrayElement, i) => {
                switch (typeof arrayElement) {
                    case 'undefined':
                        currentType[iteration][i] = 'any';
                        break;
                    case 'object':
                        if (arrayElement instanceof Array) {
                            currentType[iteration][i] = 'array';
                        } else if (arrayElement instanceof Date) {
                            currentType[iteration][i] = 'Date';
                        } else if (arrayElement instanceof Object) {
                            currentType[iteration][i] = 'object';
                        } else if (arrayElement === null) {
                            currentType[iteration][i] = 'any';
                        }
                        break;
                    default:
                        currentType[iteration][i] = typeof arrayElement;
                }
            });

            function uniq(array) {
                if (array.length === 0) {
                    return [];
                }
                let uniqueResult = [];

                array.forEach((arrayElement) => {
                    let isUniqEl = !(uniqueResult.some(element => element === arrayElement));

                    if (isUniqEl) {
                        uniqueResult.push(arrayElement);
                    }
                });
                return uniqueResult;
            }

            function mergeArrays(bigArray) {
                let merged = [];
                bigArray.forEach((smallArray) => {
                    merged.push(...smallArray);
                });
                return merged;
            }

            if ((!currentType[iteration].includes('object')) && (!currentType[iteration].includes('array'))) {
                currentType[iteration] = uniq(currentType[iteration]);

                if (currentType[iteration].length === 1) {
                    return `${currentType[iteration][0]}[]`;
                }

                return `(${currentType[iteration].join('|')})[]`;
            }

            if ((!currentType[iteration].includes('object')) && (currentType[iteration].includes('array'))) {

                if (nextConfigIteration) {
                    if (uniq(currentType[iteration]).length === 1) {
                        currentType[iteration] = mergeArrays(array);
                        return stringifyArray(currentType[iteration], tab, iteration) + '[]';
                    }
                }

                array.forEach((element, index) => {
                    if  (element instanceof Array) {
                        if (element.length === 0) {
                            currentType[iteration][index] = 'any[]';
                            return;
                        }
                        currentType[iteration][index] = stringifyArray(element, tab, iteration + 1);
                    }
                });

                currentType[iteration] = uniq(currentType[iteration]);
                resStringifyArray = currentType[iteration].join('|');

                if (resStringifyArray.indexOf('|') !== -1) {
                    resStringifyArray = `(${resStringifyArray})`;
                }
                return `${resStringifyArray}[]`;
            }

            if ((currentType[iteration].includes('object')) && (currentType[iteration].includes('array'))) {

                array.forEach((element, index) => {
                    if (typeof element === 'object') {
                        if (element instanceof Array) {
                            if (element.length === 0) {
                                currentType[iteration][index] = 'any[]';
                                return;
                            }
                            currentType[iteration][index] = stringifyArray(element, tab, iteration + 1);
                            return;
                        }
                        if (element instanceof Object) {
                            if (Object.keys(element).length === 0) {
                                currentType[iteration][index] = '{}';
                                return;
                            }
                            currentType[iteration][index] = stringify(element, ++tab);
                        }
                    }
                });
                currentType[iteration] = uniq(currentType[iteration]);
                resStringifyArray = currentType[iteration].join('|');

                if (resStringifyArray.indexOf('|') !== -1) {
                    resStringifyArray = `(${resStringifyArray})`;
                }

                return `${resStringifyArray}[]`;
            }

            if ((currentType[iteration].includes('object')) && (!currentType[iteration].includes('array'))) {

                if (uniq(currentType[iteration]).length === 1) {
                    configIteration++;
                    return stringifyObjectsInArrays(array, tab, configIteration) + '[]';
                }

                array.forEach((element, index) => {
                    if ((typeof element === 'object') && (element instanceof Object)) {
                        if (Object.keys(element).length === 0) {
                            currentType[iteration][index] = '{}';
                            return;
                        }
                        currentType[iteration][index] = stringify(element, tab + 1);
                    }
                });

                currentType[iteration] = uniq(currentType[iteration]);
                resStringifyArray = currentType[iteration].join('|');

                return `(${resStringifyArray})[]`;
            }

            /////
			function hasJustObjects(types) {
				return ((uniq(types).length === 1) && (types.includes('object')))
            }
            function hasJustArrays(types) {
                return ((uniq(types).length === 1) && (types.includes('array')))
            }

			/////

            function stringifyObjectsInArrays(array, tab, configIteration) {
                resObjectsInArrays = '';
                requiredKeys[configIteration] = Object.keys(array[0]);
                allKeys[configIteration] = [];
                config[configIteration] = {};

                array.forEach((objectInArray) => {
                    if (Object.keys(objectInArray).length === 0) {
                        requiredKeys[configIteration] = [];
                        return;
                    }
                    requiredKeys[configIteration].forEach((key, index, reqKeys) => {
                        if (Object.keys(objectInArray).indexOf(key) === -1) {
                            reqKeys.splice(index, 1);
                        }
                    });
                    allKeys[configIteration] = allKeys[configIteration].concat(Object.keys(objectInArray));
                });
                allKeys[configIteration] = uniq(allKeys[configIteration]);

                allKeys[configIteration].forEach((key) => {
                    config[configIteration][key] = [];
                });

                array.forEach((obj) => {
                    Object.keys(obj).forEach((key) => {
                        config[configIteration][key].push(obj[key]);
                    });
                });

                Object.keys(config[configIteration]).forEach((k) => {
                    iteration = iteration + 1;
                    config[configIteration][k] = stringifyArray(config[configIteration][k], tab + 1, iteration, true);
                    config[configIteration][k] = config[configIteration][k].slice(0, config[configIteration][k].length - 2);
                    if (requiredKeys[configIteration].indexOf(k) === -1) {
                        let reqKey = `${k}?`;
                        config[configIteration][reqKey] = config[configIteration][k];
                        delete config[configIteration][k];
                    }
                });

                resObjectsInArrays = `{\n`;

                Object.keys(config[configIteration]).forEach((k) => {
                    resObjectsInArrays += `${'\t'.repeat(tab + 1)}\t${k}: ${config[configIteration][k]};\n`;
                });

                resObjectsInArrays += `${'\t'.repeat(tab + 1)}}`;

                return resObjectsInArrays;
            }

            if (resStringifyArray.indexOf('|') !== -1) {
                resStringifyArray = `(${resStringifyArray})`;
            }

            return `${resStringifyArray}[]`;
        }

        return `{\n${resultStringify}${'\t'.repeat(tab)}}`;
    }

    return `declare interface IObj ${stringify(object, 0)};`;
}
</script>
</body>
</html>




 */